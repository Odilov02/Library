2023-05-19 10:02:17.261 +05:00 [INF] Executed DbCommand (636ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE library;
2023-05-19 10:02:17.626 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-05-19 10:02:17.768 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-19 10:02:17.792 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-19 10:02:17.825 +05:00 [INF] Applying migration '20230519050151_CreateDb'.
2023-05-19 10:02:17.959 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE author (
    author_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NULL,
    description text NULL,
    CONSTRAINT "PK_author" PRIMARY KEY (author_id)
);
2023-05-19 10:02:17.971 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE category (
    category_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    CONSTRAINT "PK_category" PRIMARY KEY (category_id)
);
2023-05-19 10:02:17.983 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE permission (
    permission_id integer GENERATED BY DEFAULT AS IDENTITY,
    permission_name text NOT NULL,
    CONSTRAINT "PK_permission" PRIMARY KEY (permission_id)
);
2023-05-19 10:02:18.031 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE refresh_token (
    token_id integer GENERATED BY DEFAULT AS IDENTITY,
    user_name text NULL,
    token text NULL,
    active_date timestamp without time zone NOT NULL,
    CONSTRAINT "PK_refresh_token" PRIMARY KEY (token_id)
);
2023-05-19 10:02:18.045 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role (
    role_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_name text NULL,
    CONSTRAINT "PK_role" PRIMARY KEY (role_id)
);
2023-05-19 10:02:18.057 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "user" (
    user_id integer GENERATED BY DEFAULT AS IDENTITY,
    user_name text NULL,
    password text NULL,
    email text NULL,
    CONSTRAINT "PK_user" PRIMARY KEY (user_id)
);
2023-05-19 10:02:18.078 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE book (
    book_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    create_date timestamp without time zone NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT "PK_book" PRIMARY KEY (book_id),
    CONSTRAINT "FK_book_category_category_id" FOREIGN KEY (category_id) REFERENCES category (category_id) ON DELETE CASCADE
);
2023-05-19 10:02:18.091 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee (
    employe_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    phone_number text NOT NULL,
    category_id integer NULL,
    CONSTRAINT "PK_employee" PRIMARY KEY (employe_id),
    CONSTRAINT "FK_employee_category_category_id" FOREIGN KEY (category_id) REFERENCES category (category_id)
);
2023-05-19 10:02:18.101 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role_permission (
    role_permission_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_id integer NOT NULL,
    permission_id integer NULL,
    CONSTRAINT "PK_role_permission" PRIMARY KEY (role_permission_id),
    CONSTRAINT "FK_role_permission_permission_permission_id" FOREIGN KEY (permission_id) REFERENCES permission (permission_id),
    CONSTRAINT "FK_role_permission_role_role_id" FOREIGN KEY (role_id) REFERENCES role (role_id) ON DELETE CASCADE
);
2023-05-19 10:02:18.109 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role_user (
    role_user_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_id integer NOT NULL,
    users_id integer NOT NULL,
    CONSTRAINT "PK_role_user" PRIMARY KEY (role_user_id),
    CONSTRAINT "FK_role_user_role_role_id" FOREIGN KEY (role_id) REFERENCES role (role_id) ON DELETE CASCADE,
    CONSTRAINT "FK_role_user_user_users_id" FOREIGN KEY (users_id) REFERENCES "user" (user_id) ON DELETE CASCADE
);
2023-05-19 10:02:18.117 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE author_book (
    author_book_id integer GENERATED BY DEFAULT AS IDENTITY,
    author_id integer NULL,
    book_id integer NULL,
    CONSTRAINT "PK_author_book" PRIMARY KEY (author_book_id),
    CONSTRAINT "FK_author_book_author_author_id" FOREIGN KEY (author_id) REFERENCES author (author_id),
    CONSTRAINT "FK_author_book_book_book_id" FOREIGN KEY (book_id) REFERENCES book (book_id)
);
2023-05-19 10:02:18.121 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_author_book_author_id" ON author_book (author_id);
2023-05-19 10:02:18.125 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_author_book_book_id" ON author_book (book_id);
2023-05-19 10:02:18.130 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_book_category_id" ON book (category_id);
2023-05-19 10:02:18.134 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_employee_category_id" ON employee (category_id);
2023-05-19 10:02:18.150 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_permission_permission_id" ON role_permission (permission_id);
2023-05-19 10:02:18.154 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_permission_role_id" ON role_permission (role_id);
2023-05-19 10:02:18.157 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_user_role_id" ON role_user (role_id);
2023-05-19 10:02:18.161 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_user_users_id" ON role_user (users_id);
2023-05-19 10:02:18.163 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230519050151_CreateDb', '7.0.5');
2023-05-19 10:03:28.244 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 10:03:29.100 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 10:03:30.859 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 10:03:31.924 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 10:03:31.926 +05:00 [INF] Hosting environment: Development
2023-05-19 10:03:31.928 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 10:03:32.100 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 10:03:32.859 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 764.7133ms
2023-05-19 10:03:32.876 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 10:03:32.876 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 10:03:32.919 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 43.0804ms
2023-05-19 10:03:33.133 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 256.6097ms
2023-05-19 10:03:33.270 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 10:03:33.732 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 461.8581ms
2023-05-19 10:04:10.499 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87
2023-05-19 10:04:10.704 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 10:04:10.771 +05:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUserAsync(Domain.Models.Users) on controller Library.Controllers.UsersController (Library).
2023-05-19 10:04:12.925 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "user" (email, password, user_name)
VALUES (@p0, @p1, @p2)
RETURNING user_id;
2023-05-19 10:04:12.993 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 10:04:13.002 +05:00 [INF] Executed action Library.Controllers.UsersController.CreateUserAsync (Library) in 2222.0182ms
2023-05-19 10:04:13.006 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 10:04:13.033 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87 - 200 0 - 2533.1886ms
2023-05-19 10:10:17.090 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 10:10:17.127 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 10:10:17.137 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 10:10:23.559 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:03:49.536 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 11:03:50.292 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 11:03:50.455 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 11:03:50.459 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 11:03:50.461 +05:00 [INF] Hosting environment: Development
2023-05-19 11:03:50.476 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 11:03:52.052 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:03:52.743 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:03:52.748 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:03:52.752 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 701.1244ms
2023-05-19 11:03:52.778 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 34.9362ms
2023-05-19 11:03:52.945 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 197.1956ms
2023-05-19 11:03:53.090 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:03:53.584 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 494.3709ms
2023-05-19 11:05:34.996 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:05:35.247 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:05:35.301 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:05:45.663 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:05:54.810 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:05:57.279 +05:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_id, r.role_name
FROM role AS r
WHERE r.role_id = @__p_0
LIMIT 1
2023-05-19 11:05:57.391 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.DataAcses.AppDbContext'.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-19 11:06:03.702 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:07:05.458 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 11:07:05.856 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO refresh_token (active_date, token, user_name)
VALUES (@p0, @p1, @p2)
RETURNING token_id;
2023-05-19 11:07:05.878 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 11:07:05.908 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 90587.1088ms
2023-05-19 11:07:05.913 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:07:05.943 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 90947.0728ms
2023-05-19 11:10:05.229 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 11:10:05.802 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 11:10:05.894 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 11:10:05.919 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 11:10:05.931 +05:00 [INF] Hosting environment: Development
2023-05-19 11:10:05.932 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 11:10:07.607 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:10:08.271 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 638.1972ms
2023-05-19 11:10:08.307 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:10:08.314 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:10:08.385 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 78.1048ms
2023-05-19 11:10:08.514 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 200.1288ms
2023-05-19 11:10:08.656 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:10:09.256 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 599.9809ms
2023-05-19 11:10:59.160 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87
2023-05-19 11:10:59.394 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 11:10:59.447 +05:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUserAsync(Domain.Models.Users) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:11:02.154 +05:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "user" (email, password, user_name)
VALUES (@p0, @p1, @p2)
RETURNING user_id;
2023-05-19 11:11:02.302 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:11:02.348 +05:00 [INF] Executed action Library.Controllers.UsersController.CreateUserAsync (Library) in 2881.446ms
2023-05-19 11:11:02.354 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 11:11:02.395 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87 - 200 0 - 3234.9984ms
2023-05-19 11:12:45.817 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:12:45.861 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:12:45.876 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:13:37.721 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:14:30.882 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:14:34.650 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_id, r.role_name
FROM role AS r
WHERE r.role_id = @__p_0
LIMIT 1
2023-05-19 11:14:34.713 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.DataAcses.AppDbContext'.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-19 11:20:00.339 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:20:19.085 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:21:22.711 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:23:01.518 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 11:23:01.599 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 11:23:01.607 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 615726.5929ms
2023-05-19 11:23:01.607 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 11:23:01.609 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:23:01.617 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 615799.5897ms
2023-05-19 11:32:30.888 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 11:32:31.498 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 11:32:31.545 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 11:32:31.549 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 11:32:31.586 +05:00 [INF] Hosting environment: Development
2023-05-19 11:32:31.668 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 11:32:32.975 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:32:33.689 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:32:33.696 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 723.5762ms
2023-05-19 11:32:33.700 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:32:33.739 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 49.7775ms
2023-05-19 11:32:33.885 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 185.0483ms
2023-05-19 11:32:34.038 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:32:34.521 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 483.0331ms
2023-05-19 11:33:05.517 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87
2023-05-19 11:33:05.694 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 11:33:05.729 +05:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUserAsync(Domain.Models.Users) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:33:07.396 +05:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "user" (email, password, user_name)
VALUES (@p0, @p1, @p2)
RETURNING user_id;
2023-05-19 11:33:07.464 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:33:07.472 +05:00 [INF] Executed action Library.Controllers.UsersController.CreateUserAsync (Library) in 1733.2945ms
2023-05-19 11:33:07.476 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.CreateUserAsync (Library)'
2023-05-19 11:33:07.500 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/CreateUser application/json 87 - 200 0 - 1983.0761ms
2023-05-19 11:34:04.346 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:34:04.359 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:34:04.369 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:34:08.304 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:34:20.641 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:34:23.620 +05:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:34:23.679 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.DataAcses.AppDbContext'.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-19 11:40:55.763 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 11:40:56.292 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 11:40:56.342 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 11:40:56.346 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 11:40:56.350 +05:00 [INF] Hosting environment: Development
2023-05-19 11:40:56.351 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 11:40:57.907 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:40:58.685 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:40:58.685 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:40:58.711 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 805.8553ms
2023-05-19 11:40:58.769 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 82.9067ms
2023-05-19 11:40:58.809 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 124.0620ms
2023-05-19 11:40:59.032 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:40:59.590 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 557.7242ms
2023-05-19 11:41:22.875 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:41:23.131 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:41:23.168 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:41:29.293 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:42:19.898 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:43:16.122 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:43:48.016 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:43:48.087 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.DataAcses.AppDbContext'.
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, <>c__DisplayClass279_0&)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-19 11:43:57.662 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 11:43:57.842 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 11:43:57.846 +05:00 [INF] Executed DbCommand (29ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 11:43:57.856 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 154677.9954ms
2023-05-19 11:43:57.859 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:43:57.882 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 155007.3742ms
2023-05-19 11:44:54.226 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:44:54.289 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 64.2659ms
2023-05-19 11:44:54.303 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:44:54.307 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:44:54.310 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 2.9815ms
2023-05-19 11:44:54.380 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.0604ms
2023-05-19 11:44:55.045 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:44:55.085 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.3500ms
2023-05-19 11:45:20.336 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:45:20.357 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:45:20.369 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:45:26.740 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:45:41.829 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:46:07.885 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:54:50.355 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 11:54:51.686 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 11:54:53.123 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 11:54:53.510 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 11:54:54.559 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 11:54:54.559 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 11:54:54.561 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 1442.2547ms
2023-05-19 11:54:55.520 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 11:54:55.528 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 969.0138ms
2023-05-19 11:54:55.542 +05:00 [INF] Hosting environment: Development
2023-05-19 11:54:55.605 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 1046.0096ms
2023-05-19 11:54:55.735 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 11:54:55.995 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 11:54:56.272 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 537.0270ms
2023-05-19 11:55:38.027 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 11:55:38.106 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:55:38.159 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 11:55:40.732 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 11:55:40.919 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 11:55:41.002 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 11:55:41.380 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 11:55:41.669 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 11:55:41.910 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 11:55:41.919 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 11:55:41.939 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 3768.0424ms
2023-05-19 11:55:41.943 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 11:55:41.989 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 3961.8994ms
2023-05-19 11:56:37.476 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 11:56:37.604 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:56:37.616 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 11:56:37.831 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 11:56:37.843 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:56:37.847 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 225.7963ms
2023-05-19 11:56:37.851 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:56:37.854 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 200 0 - 378.4112ms
2023-05-19 11:56:55.508 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 41
2023-05-19 11:56:55.539 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:56:55.542 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 11:56:55.705 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 11:56:55.712 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:56:55.715 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 171.0702ms
2023-05-19 11:56:55.719 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:56:55.721 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 41 - 200 0 - 212.5709ms
2023-05-19 11:58:16.320 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 41
2023-05-19 11:58:16.324 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:58:16.326 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 11:58:16.336 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 11:58:16.343 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:58:16.345 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 16.3339ms
2023-05-19 11:58:16.348 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:58:16.350 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 41 - 200 0 - 30.1606ms
2023-05-19 11:59:15.521 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42
2023-05-19 11:59:15.526 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:59:15.527 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 11:59:15.549 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 11:59:15.557 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 11:59:15.559 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 28.7427ms
2023-05-19 11:59:15.561 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 11:59:15.562 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42 - 200 0 - 41.1867ms
2023-05-19 12:01:40.873 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45
2023-05-19 12:01:40.923 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:01:40.926 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:01:41.099 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:01:41.102 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:01:41.104 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 173.3586ms
2023-05-19 12:01:41.106 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:01:41.107 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45 - 200 0 - 234.5572ms
2023-05-19 12:13:59.858 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 12:14:00.303 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 12:14:00.312 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 12:14:00.318 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 12:14:00.319 +05:00 [INF] Hosting environment: Development
2023-05-19 12:14:00.321 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 12:14:01.785 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 12:14:02.651 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 862.0059ms
2023-05-19 12:14:02.665 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 12:14:02.684 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 12:14:02.732 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 66.2055ms
2023-05-19 12:14:02.823 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 139.4000ms
2023-05-19 12:14:02.983 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 12:14:03.367 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 384.7130ms
2023-05-19 12:15:49.251 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 12:15:49.327 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 12:15:49.360 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 12:15:51.127 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 12:15:51.222 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 12:15:51.271 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 12:15:51.439 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 12:15:51.616 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:15:51.754 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 12:15:51.760 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 12:15:51.765 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 2396.6067ms
2023-05-19 12:15:51.768 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 12:15:51.794 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 2543.0134ms
2023-05-19 12:16:34.726 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42
2023-05-19 12:16:34.796 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:16:34.805 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:16:34.925 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:16:34.938 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:16:34.941 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 131.5712ms
2023-05-19 12:16:34.944 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:16:34.946 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42 - 200 0 - 219.7981ms
2023-05-19 12:16:53.777 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/AddRange application/json 54
2023-05-19 12:16:53.792 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.AddRangeAsync (Library)'
2023-05-19 12:16:53.800 +05:00 [INF] Route matched with {action = "AddRange", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRangeAsync(System.Collections.Generic.IEnumerable`1[Domain.Models.Category]) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:16:53.948 +05:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (name)
VALUES (@p0)
RETURNING category_id;
2023-05-19 12:16:54.013 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.DataAcses.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-19 12:16:54.037 +05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-19 12:16:54.043 +05:00 [INF] Executed action Library.Controllers.CategoryController.AddRangeAsync (Library) in 238.448ms
2023-05-19 12:16:54.045 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.AddRangeAsync (Library)'
2023-05-19 12:16:54.047 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/AddRange application/json 54 - 400 - application/problem+json;+charset=utf-8 269.9633ms
2023-05-19 12:17:09.047 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42
2023-05-19 12:17:09.048 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:17:09.052 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:17:09.078 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:17:09.085 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:17:09.087 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 31.7355ms
2023-05-19 12:17:09.088 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:17:09.090 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42 - 200 0 - 43.5978ms
2023-05-19 12:18:12.798 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42
2023-05-19 12:18:12.800 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:18:12.801 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:18:12.824 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:18:12.827 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:18:12.829 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 25.6091ms
2023-05-19 12:18:12.831 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:18:12.833 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42 - 200 0 - 35.0057ms
2023-05-19 12:19:58.898 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495
2023-05-19 12:19:59.275 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:19:59.382 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Domain.Models.Tokens.Token) on controller Library.Controllers.UsersController (Library).
2023-05-19 12:19:59.673 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
WHERE u.user_id = @__p_0
LIMIT 1
2023-05-19 12:19:59.689 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:19:59.692 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-19 12:19:59.696 +05:00 [INF] Executed action Library.Controllers.UsersController.RefreshToken (Library) in 221.421ms
2023-05-19 12:19:59.704 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:19:59.709 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495 - 400 - text/plain;+charset=utf-8 810.3007ms
2023-05-19 12:30:49.711 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 12:30:50.063 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 12:30:50.091 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 12:30:50.103 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 12:30:50.107 +05:00 [INF] Hosting environment: Development
2023-05-19 12:30:50.109 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 12:30:53.001 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 12:30:53.734 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 738.6086ms
2023-05-19 12:30:53.735 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 12:30:53.736 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 12:30:53.765 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 26.5641ms
2023-05-19 12:30:53.939 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 199.2052ms
2023-05-19 12:30:54.090 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 12:30:54.551 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 461.0821ms
2023-05-19 12:31:49.215 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 12:31:49.311 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 12:31:49.370 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 12:31:52.183 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 12:31:52.352 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 12:31:52.424 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 12:31:52.724 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 12:31:52.973 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:31:53.191 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 12:31:53.195 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 12:31:53.215 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 3831.8712ms
2023-05-19 12:31:53.220 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 12:31:53.247 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 4032.2571ms
2023-05-19 12:32:40.463 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495
2023-05-19 12:32:40.477 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:32:40.488 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Domain.Models.Tokens.Token) on controller Library.Controllers.UsersController (Library).
2023-05-19 12:32:40.674 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
WHERE u.user_id = @__p_0
LIMIT 1
2023-05-19 12:32:40.684 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:32:40.692 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 12:32:40.697 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 12:32:40.711 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 12:32:40.719 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:32:40.732 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 12:32:40.736 +05:00 [INF] Executed action Library.Controllers.UsersController.RefreshToken (Library) in 243.8029ms
2023-05-19 12:32:40.739 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:32:40.753 +05:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 12:35:27.794 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 12:35:27.819 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:35:27.828 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:35:28.393 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:35:28.411 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:35:28.413 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 580.9881ms
2023-05-19 12:35:28.419 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:35:28.423 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 200 0 - 629.3215ms
2023-05-19 12:36:11.510 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 12:36:11.517 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:36:11.519 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 12:36:11.633 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 12:36:11.639 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 12:36:11.641 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 118.6552ms
2023-05-19 12:36:11.644 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 12:36:11.646 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 200 0 - 136.4182ms
2023-05-19 12:36:55.792 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495
2023-05-19 12:36:56.457 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:36:56.459 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Domain.Models.Tokens.Token) on controller Library.Controllers.UsersController (Library).
2023-05-19 12:36:56.486 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
WHERE u.user_id = @__p_0
LIMIT 1
2023-05-19 12:36:56.497 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 12:36:56.507 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-19 12:36:56.511 +05:00 [INF] Executed action Library.Controllers.UsersController.RefreshToken (Library) in 47.5237ms
2023-05-19 12:36:56.528 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 12:36:56.541 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495 - 400 - text/plain;+charset=utf-8 749.6632ms
2023-05-19 14:28:32.259 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:28:32.643 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 14:28:32.670 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 14:28:32.694 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:28:32.735 +05:00 [INF] Hosting environment: Development
2023-05-19 14:28:32.736 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 14:28:34.171 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 14:28:35.117 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:28:35.117 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 14:28:35.119 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 949.6716ms
2023-05-19 14:28:35.138 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 20.4455ms
2023-05-19 14:28:35.218 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.5935ms
2023-05-19 14:28:35.413 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 14:28:35.783 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 369.4631ms
2023-05-19 14:29:08.284 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:29:08.372 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:29:08.419 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:29:10.793 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:29:10.938 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:29:11.006 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:29:11.259 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:29:11.497 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:29:11.707 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:29:11.708 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:29:11.730 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 3298.1297ms
2023-05-19 14:29:11.735 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:29:11.768 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 3483.8556ms
2023-05-19 14:30:01.137 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:30:01.157 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 14:30:01.187 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 14:30:01.190 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 401 0 - 53.1687ms
2023-05-19 14:30:28.461 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:30:28.468 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 14:30:28.473 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 14:30:28.474 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 401 0 - 13.3070ms
2023-05-19 14:30:55.375 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:30:55.379 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:30:55.388 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:30:55.441 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:30:55.448 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:30:55.454 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:30:55.468 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:30:55.477 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:30:55.490 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:30:55.493 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 100.9164ms
2023-05-19 14:30:55.506 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:30:55.507 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:30:55.512 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 137.5071ms
2023-05-19 14:31:26.321 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:31:26.444 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:31:26.457 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:31:26.794 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:31:26.808 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:31:26.809 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 348.511ms
2023-05-19 14:31:26.813 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:31:26.815 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 200 0 - 493.6313ms
2023-05-19 14:31:39.911 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 14:31:39.940 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:31:39.942 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:31:39.955 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:31:39.979 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:31:39.980 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 35.9155ms
2023-05-19 14:31:39.985 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:31:39.986 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 75.5497ms
2023-05-19 14:34:40.062 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 14:34:40.064 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:34:40.066 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:34:40.219 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:34:40.226 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:34:40.230 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 161.5744ms
2023-05-19 14:34:40.232 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:34:40.233 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 171.4346ms
2023-05-19 14:35:40.203 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:35:40.215 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:35:40.217 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:35:40.243 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:35:40.251 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:35:40.265 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:35:40.275 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:35:40.282 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:35:40.290 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:35:40.303 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:35:40.309 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 85.7093ms
2023-05-19 14:35:40.313 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:35:40.315 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 112.3111ms
2023-05-19 14:37:53.740 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:37:54.062 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 14:37:54.090 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 14:37:54.095 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:37:54.103 +05:00 [INF] Hosting environment: Development
2023-05-19 14:37:54.107 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 14:37:55.294 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 14:37:56.220 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 928.4790ms
2023-05-19 14:37:56.220 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:37:56.220 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 14:37:56.245 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 23.1180ms
2023-05-19 14:37:56.301 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.0386ms
2023-05-19 14:37:56.512 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 14:37:57.024 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 511.8627ms
2023-05-19 14:38:45.669 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:38:45.751 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:38:45.782 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:38:47.114 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:38:47.232 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:38:47.283 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:38:47.451 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:38:47.582 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:38:47.724 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:38:47.730 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:38:47.739 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 1947.9869ms
2023-05-19 14:38:47.741 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:38:47.782 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 2113.4808ms
2023-05-19 14:38:58.896 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:38:58.907 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:38:58.909 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:38:58.940 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:38:58.947 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:38:58.953 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:38:58.961 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:38:58.969 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:38:58.976 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:38:58.979 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 66.5395ms
2023-05-19 14:38:58.982 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:38:59.001 +05:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:39:03.472 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:39:03.479 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:03.481 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:39:03.584 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:39:03.592 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:39:03.598 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:39:03.607 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:39:03.614 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:39:03.618 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:39:03.622 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 138.0285ms
2023-05-19 14:39:03.624 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:03.637 +05:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:39:04.664 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:39:04.665 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:04.667 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:39:04.747 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:39:04.753 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:39:04.758 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:39:04.765 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:39:04.772 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:39:04.776 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:39:04.778 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 109.2934ms
2023-05-19 14:39:04.781 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:04.797 +05:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:39:05.906 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:39:05.907 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:05.910 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:39:05.917 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:39:05.925 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:39:05.936 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:39:05.942 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:39:05.950 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:39:05.954 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:39:05.957 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 44.285ms
2023-05-19 14:39:05.959 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:05.973 +05:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:39:06.759 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:39:06.761 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:06.762 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:39:06.976 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:39:06.991 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:39:07.008 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:39:07.026 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:39:07.046 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:39:07.063 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:39:07.069 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 303.9236ms
2023-05-19 14:39:07.074 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:07.084 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:39:07.086 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 326.8800ms
2023-05-19 14:39:10.204 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:39:10.206 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:10.207 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:39:10.214 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:39:10.217 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:39:10.221 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:39:10.228 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:39:10.233 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:39:10.237 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:39:10.240 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 29.4847ms
2023-05-19 14:39:10.241 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:39:10.255 +05:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:40:53.914 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 14:40:54.512 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 598.0884ms
2023-05-19 14:40:54.525 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:40:54.529 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 14:40:54.532 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 6.7419ms
2023-05-19 14:40:54.561 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.3650ms
2023-05-19 14:40:54.830 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 14:40:55.392 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 563.1710ms
2023-05-19 14:41:42.677 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:41:42.680 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:41:42.684 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:41:42.692 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:41:42.700 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:41:42.709 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:41:42.717 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:41:42.725 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:41:42.729 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:41:42.731 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 43.6728ms
2023-05-19 14:41:42.734 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:41:42.759 +05:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:42:36.136 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:42:36.249 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:42:36.258 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:42:36.395 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:42:36.413 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:42:36.417 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 152.9241ms
2023-05-19 14:42:36.422 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:42:36.425 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 200 0 - 289.6470ms
2023-05-19 14:43:14.757 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:43:14.766 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:43:14.769 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:43:14.907 +05:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:43:14.973 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.DataAcses.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-19 14:43:15.002 +05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-19 14:43:15.008 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 233.0382ms
2023-05-19 14:43:15.010 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:43:15.012 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 400 - application/problem+json;+charset=utf-8 255.0314ms
2023-05-19 14:43:24.612 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 14:43:24.614 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:43:24.615 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:43:24.622 +05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:43:24.628 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.DataAcses.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_category"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_category"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: category
    ConstraintName: PK_category
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-19 14:43:24.647 +05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-19 14:43:24.650 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 31.6433ms
2023-05-19 14:43:24.652 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:43:24.654 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 400 - application/problem+json;+charset=utf-8 42.5124ms
2023-05-19 14:44:39.767 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 14:44:39.770 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:44:39.773 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:44:39.801 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:44:39.814 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:44:39.817 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 39.7478ms
2023-05-19 14:44:39.820 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:44:39.822 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 54.6206ms
2023-05-19 14:46:12.162 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:46:12.738 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 14:46:12.849 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 14:46:12.853 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:46:12.854 +05:00 [INF] Hosting environment: Development
2023-05-19 14:46:12.855 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 14:46:16.251 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 14:46:17.224 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:46:17.225 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 14:46:17.259 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 34.3847ms
2023-05-19 14:46:17.259 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 1011.4507ms
2023-05-19 14:46:17.416 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 190.9282ms
2023-05-19 14:46:18.103 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 14:46:18.948 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 845.4250ms
2023-05-19 14:47:38.167 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 14:47:38.345 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:47:38.407 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 14:47:51.136 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 14:47:58.527 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 14:48:00.378 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 14:48:04.191 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 14:48:10.509 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 14:48:10.678 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 14:48:10.683 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 14:48:10.698 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 32280.6985ms
2023-05-19 14:48:10.703 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 14:48:10.725 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 32558.0203ms
2023-05-19 14:49:14.875 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45
2023-05-19 14:49:14.976 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:49:14.985 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:49:15.153 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:49:15.169 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:49:15.171 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 183.1555ms
2023-05-19 14:49:15.174 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:49:15.176 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45 - 200 0 - 301.1365ms
2023-05-19 14:49:35.208 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45
2023-05-19 14:49:35.251 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:49:35.253 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:49:35.375 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:49:35.381 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:49:35.384 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 128.6184ms
2023-05-19 14:49:35.385 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:49:35.387 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45 - 200 0 - 178.5812ms
2023-05-19 14:50:38.030 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45
2023-05-19 14:50:38.077 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:50:38.079 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 14:50:38.106 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 14:50:38.117 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 14:50:38.121 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 37.7024ms
2023-05-19 14:50:38.124 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 14:50:38.133 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 45 - 200 0 - 102.9265ms
2023-05-19 14:59:00.032 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:59:00.865 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 14:59:00.924 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 14:59:00.928 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:59:00.929 +05:00 [INF] Hosting environment: Development
2023-05-19 14:59:00.930 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 14:59:03.855 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 14:59:04.549 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:59:04.549 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 14:59:04.581 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 716.8695ms
2023-05-19 14:59:04.622 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 85.5145ms
2023-05-19 14:59:04.754 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 205.1631ms
2023-05-19 14:59:04.862 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 14:59:06.421 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1559.6656ms
2023-05-19 15:00:22.646 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:00:22.842 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:00:22.894 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:00:30.804 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:00:37.741 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:00:41.653 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:00:46.761 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:01:46.115 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:01:46.333 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:01:46.338 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:01:46.354 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 83448.6937ms
2023-05-19 15:01:46.359 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:01:46.378 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 83764.6401ms
2023-05-19 15:05:26.213 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42
2023-05-19 15:05:26.336 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:05:26.347 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 15:05:26.537 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 15:05:26.548 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:05:26.550 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 199.7727ms
2023-05-19 15:05:26.553 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:05:26.556 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 42 - 200 0 - 342.6677ms
2023-05-19 15:08:27.280 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:08:27.737 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 15:08:27.742 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 15:08:27.746 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:08:27.747 +05:00 [INF] Hosting environment: Development
2023-05-19 15:08:27.748 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 15:08:28.864 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 15:08:29.459 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:08:29.467 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 15:08:29.471 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 609.6708ms
2023-05-19 15:08:29.488 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 27.6992ms
2023-05-19 15:08:29.521 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.0099ms
2023-05-19 15:08:29.699 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 15:08:30.079 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 379.8598ms
2023-05-19 15:28:02.350 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:28:02.947 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 15:28:02.963 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 15:28:02.967 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:28:02.969 +05:00 [INF] Hosting environment: Development
2023-05-19 15:28:02.975 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 15:28:05.383 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 15:28:07.118 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:28:07.119 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 15:28:07.128 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 1932.6716ms
2023-05-19 15:28:07.159 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 40.1758ms
2023-05-19 15:28:07.381 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 261.9877ms
2023-05-19 15:28:07.547 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 15:28:08.549 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1002.4751ms
2023-05-19 15:28:38.167 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:28:38.263 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:28:38.306 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:28:40.884 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:28:41.052 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:28:41.105 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:28:41.315 +05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:28:41.521 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:28:41.689 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:28:41.693 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:28:41.705 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 3387.326ms
2023-05-19 15:28:41.707 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:28:41.743 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 3576.5836ms
2023-05-19 15:30:35.727 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:30:35.826 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:30:35.838 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 15:30:36.052 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 15:30:36.066 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:30:36.068 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 227.3919ms
2023-05-19 15:30:36.070 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:30:36.073 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 346.1379ms
2023-05-19 15:43:59.327 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:43:59.688 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 15:43:59.693 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 15:43:59.708 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:43:59.731 +05:00 [INF] Hosting environment: Development
2023-05-19 15:43:59.732 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 15:44:00.995 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 15:44:02.239 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 1255.7734ms
2023-05-19 15:44:02.287 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 15:44:02.287 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:44:02.397 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 108.6057ms
2023-05-19 15:44:02.499 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 212.0230ms
2023-05-19 15:44:02.634 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 15:44:02.996 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 361.3693ms
2023-05-19 15:44:31.105 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:44:31.184 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:44:31.228 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:44:33.003 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:44:33.118 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:44:33.166 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:44:33.368 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:44:33.545 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:44:33.704 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:44:33.711 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:44:33.718 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 2480.9422ms
2023-05-19 15:44:33.721 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:44:33.749 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 2643.6452ms
2023-05-19 15:45:16.799 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43
2023-05-19 15:45:16.880 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:44:33 AM', Current time (UTC): '5/19/2023 10:45:16 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:45:16.930 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:44:33 AM', Current time (UTC): '5/19/2023 10:45:16 AM'.
2023-05-19 15:45:16.942 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:45:16.952 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:45:16.955 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 43 - 401 0 - 156.5606ms
2023-05-19 15:45:31.178 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:45:31.188 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:44:33 AM', Current time (UTC): '5/19/2023 10:45:31 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:45:31.192 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:44:33 AM', Current time (UTC): '5/19/2023 10:45:31 AM'.
2023-05-19 15:45:31.258 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:45:31.263 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:45:31.265 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 401 0 - 86.8595ms
2023-05-19 15:50:44.847 +05:00 [INF] User profile is available. Using 'C:\Users\diyor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 15:50:45.218 +05:00 [INF] Now listening on: https://localhost:7065
2023-05-19 15:50:45.250 +05:00 [INF] Now listening on: http://localhost:5212
2023-05-19 15:50:45.255 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 15:50:45.258 +05:00 [INF] Hosting environment: Development
2023-05-19 15:50:45.259 +05:00 [INF] Content root path: C:\Users\diyor\OneDrive\Desktop\C#\Library\Library
2023-05-19 15:50:48.379 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/index.html - -
2023-05-19 15:50:49.640 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 15:50:49.663 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/index.html - - - 200 - text/html;charset=utf-8 1287.4025ms
2023-05-19 15:50:49.683 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/_vs/browserLink - -
2023-05-19 15:50:49.747 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 105.8235ms
2023-05-19 15:50:49.821 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 138.3652ms
2023-05-19 15:50:49.973 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - -
2023-05-19 15:50:50.445 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7065/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 472.5767ms
2023-05-19 15:51:59.056 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:51:59.127 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:51:59.172 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:52:00.873 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:52:00.998 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:52:01.049 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:52:01.241 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:52:01.426 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:52:01.579 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:52:01.588 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:52:01.598 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 2415.8345ms
2023-05-19 15:52:01.601 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:52:01.639 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45 - 200 - application/json;+charset=utf-8 2583.0500ms
2023-05-19 15:52:48.477 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:52:48.580 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:52:48.589 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 15:52:48.745 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 15:52:48.759 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:52:48.762 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 168.836ms
2023-05-19 15:52:48.763 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:52:48.765 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 288.0689ms
2023-05-19 15:53:22.735 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:53:22.745 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:53:22.791 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:22 AM'.
2023-05-19 15:53:22.794 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:53:22.805 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:53:22.808 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 401 0 - 72.5166ms
2023-05-19 15:53:32.256 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:53:32.303 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:53:32.310 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:32 AM'.
2023-05-19 15:53:32.311 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:53:32.318 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:53:32.320 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 401 0 - 63.4225ms
2023-05-19 15:53:39.825 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:53:39.829 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:53:39.834 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:53:01 AM', Current time (UTC): '5/19/2023 10:53:39 AM'.
2023-05-19 15:53:39.836 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:53:39.840 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:53:39.939 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:53:39.946 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:53:39.956 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:53:39.968 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:53:39.973 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:53:39.978 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:53:39.980 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 136.4451ms
2023-05-19 15:53:39.984 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:53:40.001 +05:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:54:09.159 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:54:09.162 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:54:09.164 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 15:54:09.193 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 15:54:09.203 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:54:09.204 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 34.9587ms
2023-05-19 15:54:09.206 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:54:09.208 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 49.1507ms
2023-05-19 15:54:39.815 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:54:39.817 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:54:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:54:39.823 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:54:39 AM'.
2023-05-19 15:54:39.825 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:54:39.827 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:54:39.829 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 401 0 - 13.5275ms
2023-05-19 15:58:00.812 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495
2023-05-19 15:58:00.814 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:58:00 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:58:00.831 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:58:00 AM'.
2023-05-19 15:58:00.833 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 15:58:00.842 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Domain.Models.Tokens.Token) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:58:00.976 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
WHERE u.user_id = @__p_0
LIMIT 1
2023-05-19 15:58:00.982 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:58:01.006 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-19 15:58:01.009 +05:00 [INF] Executed action Library.Controllers.UsersController.RefreshToken (Library) in 165.0316ms
2023-05-19 15:58:01.011 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 15:58:01.013 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495 - 400 - text/plain;+charset=utf-8 201.0665ms
2023-05-19 15:58:14.052 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/Login application/json 45
2023-05-19 15:58:14.054 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:58:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:58:14.058 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:54:39 AM', Current time (UTC): '5/19/2023 10:58:14 AM'.
2023-05-19 15:58:14.060 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:58:14.062 +05:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Models.UserCredential) on controller Library.Controllers.UsersController (Library).
2023-05-19 15:58:14.073 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
2023-05-19 15:58:14.082 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 15:58:14.092 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 15:58:14.102 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 15:58:14.108 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 15:58:14.112 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 15:58:14.114 +05:00 [INF] Executed action Library.Controllers.UsersController.Login (Library) in 42.8721ms
2023-05-19 15:58:14.115 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.Login (Library)'
2023-05-19 15:58:14.130 +05:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 15:58:49.848 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:58:49.850 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:58:49.851 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 15:58:49.918 +05:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 15:58:49.924 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 15:58:49.925 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 71.5373ms
2023-05-19 15:58:49.926 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 15:58:49.934 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 84.4376ms
2023-05-19 15:59:33.623 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 15:59:33.625 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:59:14 AM', Current time (UTC): '5/19/2023 10:59:33 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 15:59:33.629 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:59:14 AM', Current time (UTC): '5/19/2023 10:59:33 AM'.
2023-05-19 15:59:33.631 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (AddCategory)
2023-05-19 15:59:33.632 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 15:59:33.634 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 401 0 - 11.0320ms
2023-05-19 16:00:10.279 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495
2023-05-19 16:00:10.280 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:59:14 AM', Current time (UTC): '5/19/2023 11:00:10 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 16:00:10.285 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/19/2023 10:59:14 AM', Current time (UTC): '5/19/2023 11:00:10 AM'.
2023-05-19 16:00:10.287 +05:00 [INF] Executing endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 16:00:10.332 +05:00 [INF] Route matched with {action = "RefreshToken", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Domain.Models.Tokens.Token) on controller Library.Controllers.UsersController (Library).
2023-05-19 16:00:10.342 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id, u.email, u.password, u.user_name
FROM "user" AS u
WHERE u.user_id = @__p_0
LIMIT 1
2023-05-19 16:00:10.350 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 16:00:10.356 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_user_id, r.role_id, r.users_id
FROM role_user AS r
2023-05-19 16:00:10.365 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.role_permission_id, r.permission_id, r.role_id
FROM role_permission AS r
2023-05-19 16:00:10.372 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.permission_id, p.permission_name
FROM permission AS p
WHERE p.permission_id = @__p_0
LIMIT 1
2023-05-19 16:00:10.376 +05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r.token_id, r.active_date, r.token, r.user_name
FROM refresh_token AS r
2023-05-19 16:00:10.382 +05:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Models.Tokens.Token'.
2023-05-19 16:00:10.383 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_token SET active_date = @p0, token = @p1, user_name = @p2
WHERE token_id = @p3;
2023-05-19 16:00:10.383 +05:00 [INF] Executed action Library.Controllers.UsersController.RefreshToken (Library) in 47.8969ms
2023-05-19 16:00:10.389 +05:00 [INF] Executed endpoint 'Library.Controllers.UsersController.RefreshToken (Library)'
2023-05-19 16:00:10.390 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Users/RefreshToken application/json 495 - 200 - application/json;+charset=utf-8 111.7476ms
2023-05-19 16:00:46.051 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44
2023-05-19 16:00:46.052 +05:00 [INF] Executing endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 16:00:46.054 +05:00 [INF] Route matched with {action = "Add", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(Domain.Models.Category) on controller Library.Controllers.CategoryController (Library).
2023-05-19 16:00:46.196 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO category (category_id, name)
VALUES (@p0, @p1);
2023-05-19 16:00:46.199 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-05-19 16:00:46.201 +05:00 [INF] Executed action Library.Controllers.CategoryController.Add (Library) in 144.4178ms
2023-05-19 16:00:46.203 +05:00 [INF] Executed endpoint 'Library.Controllers.CategoryController.Add (Library)'
2023-05-19 16:00:46.204 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7065/api/Category/Add application/json 44 - 200 0 - 153.8205ms
2023-05-19 16:06:55.716 +05:00 [INF] Executed DbCommand (694ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE library;
2023-05-19 16:06:56.311 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-05-19 16:06:56.484 +05:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-05-19 16:06:56.495 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-19 16:06:56.547 +05:00 [INF] Applying migration '20230519050151_CreateDb'.
2023-05-19 16:06:56.787 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE author (
    author_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NULL,
    description text NULL,
    CONSTRAINT "PK_author" PRIMARY KEY (author_id)
);
2023-05-19 16:06:56.798 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE category (
    category_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    CONSTRAINT "PK_category" PRIMARY KEY (category_id)
);
2023-05-19 16:06:56.808 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE permission (
    permission_id integer GENERATED BY DEFAULT AS IDENTITY,
    permission_name text NOT NULL,
    CONSTRAINT "PK_permission" PRIMARY KEY (permission_id)
);
2023-05-19 16:06:56.818 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE refresh_token (
    token_id integer GENERATED BY DEFAULT AS IDENTITY,
    user_name text NULL,
    token text NULL,
    active_date timestamp without time zone NOT NULL,
    CONSTRAINT "PK_refresh_token" PRIMARY KEY (token_id)
);
2023-05-19 16:06:56.827 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role (
    role_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_name text NULL,
    CONSTRAINT "PK_role" PRIMARY KEY (role_id)
);
2023-05-19 16:06:56.837 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "user" (
    user_id integer GENERATED BY DEFAULT AS IDENTITY,
    user_name text NULL,
    password text NULL,
    email text NULL,
    CONSTRAINT "PK_user" PRIMARY KEY (user_id)
);
2023-05-19 16:06:56.855 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE book (
    book_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    create_date timestamp without time zone NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT "PK_book" PRIMARY KEY (book_id),
    CONSTRAINT "FK_book_category_category_id" FOREIGN KEY (category_id) REFERENCES category (category_id) ON DELETE CASCADE
);
2023-05-19 16:06:56.866 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE employee (
    employe_id integer GENERATED BY DEFAULT AS IDENTITY,
    name text NOT NULL,
    phone_number text NOT NULL,
    category_id integer NULL,
    CONSTRAINT "PK_employee" PRIMARY KEY (employe_id),
    CONSTRAINT "FK_employee_category_category_id" FOREIGN KEY (category_id) REFERENCES category (category_id)
);
2023-05-19 16:06:56.875 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role_permission (
    role_permission_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_id integer NOT NULL,
    permission_id integer NULL,
    CONSTRAINT "PK_role_permission" PRIMARY KEY (role_permission_id),
    CONSTRAINT "FK_role_permission_permission_permission_id" FOREIGN KEY (permission_id) REFERENCES permission (permission_id),
    CONSTRAINT "FK_role_permission_role_role_id" FOREIGN KEY (role_id) REFERENCES role (role_id) ON DELETE CASCADE
);
2023-05-19 16:06:56.884 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE role_user (
    role_user_id integer GENERATED BY DEFAULT AS IDENTITY,
    role_id integer NOT NULL,
    users_id integer NOT NULL,
    CONSTRAINT "PK_role_user" PRIMARY KEY (role_user_id),
    CONSTRAINT "FK_role_user_role_role_id" FOREIGN KEY (role_id) REFERENCES role (role_id) ON DELETE CASCADE,
    CONSTRAINT "FK_role_user_user_users_id" FOREIGN KEY (users_id) REFERENCES "user" (user_id) ON DELETE CASCADE
);
2023-05-19 16:06:56.891 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE author_book (
    author_book_id integer GENERATED BY DEFAULT AS IDENTITY,
    author_id integer NULL,
    book_id integer NULL,
    CONSTRAINT "PK_author_book" PRIMARY KEY (author_book_id),
    CONSTRAINT "FK_author_book_author_author_id" FOREIGN KEY (author_id) REFERENCES author (author_id),
    CONSTRAINT "FK_author_book_book_book_id" FOREIGN KEY (book_id) REFERENCES book (book_id)
);
2023-05-19 16:06:56.895 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_author_book_author_id" ON author_book (author_id);
2023-05-19 16:06:56.953 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_author_book_book_id" ON author_book (book_id);
2023-05-19 16:06:56.957 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_book_category_id" ON book (category_id);
2023-05-19 16:06:56.960 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_employee_category_id" ON employee (category_id);
2023-05-19 16:06:56.964 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_permission_permission_id" ON role_permission (permission_id);
2023-05-19 16:06:56.968 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_permission_role_id" ON role_permission (role_id);
2023-05-19 16:06:56.971 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_user_role_id" ON role_user (role_id);
2023-05-19 16:06:56.975 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_role_user_users_id" ON role_user (users_id);
2023-05-19 16:06:56.977 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230519050151_CreateDb', '7.0.5');
